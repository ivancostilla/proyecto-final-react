(this["webpackJsonpproyecto-final-react"]=this["webpackJsonpproyecto-final-react"]||[]).push([[0],{26:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},46:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){"use strict";c.r(t);var r=c(0),a=c(2),n=c.n(a),s=c(30),i=c.n(s),o=(c(39),c(40),c(5)),l=c(9),u=c(4),j=c.n(u),d=c(7),b=c(3),p=c(12),O=(c(42),c(44),c(45),p.a.initializeApp({apiKey:"AIzaSyCQWkJDyCjRyPs40HcxCliDfEHPWlw_-Qo",authDomain:"coder-484e0.firebaseapp.com",projectId:"coder-484e0",storageBucket:"coder-484e0.appspot.com",messagingSenderId:"160300116551",appId:"1:160300116551:web:0830633324f8f1eec89f62"})),h=function(){return p.a.firestore(O)},m=Object(a.createContext)(),x=function(){return Object(a.useContext)(m)},f=function(e){var t=e.children,c=Object(a.useState)(),n=Object(b.a)(c,2),s=n[0],i=n[1],o=Object(a.useState)(!0),l=Object(b.a)(o,2),u=l[0],h=l[1],x=Object(a.useState)(""),f=Object(b.a)(x,2),v=f[0],g=f[1],C=Object(a.useState)(""),y=Object(b.a)(C,2),w=y[0],N=y[1],S=Object(a.useState)(""),k=Object(b.a)(S,2),P=k[0],T=k[1],I=Object(a.useState)(""),E=Object(b.a)(I,2),z=E[0],D=E[1],F=O.auth(),A=function(){var e=Object(d.a)(j.a.mark((function e(t,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.createUserWithEmailAndPassword(t,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),q=function(){var e=Object(d.a)(j.a.mark((function e(t,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.signInWithEmailAndPassword(t,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.signOut();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.sendPasswordResetEmail(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.updateEmail(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.updatePassword(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=new p.a.auth.TwitterAuthProvider,M=new p.a.auth.FacebookAuthProvider,V=new p.a.auth.GoogleAuthProvider;Object(a.useEffect)((function(){return F.onAuthStateChanged((function(e){i(e),h(!1)}))}),[F]);var G={currentUser:s,updateEmail:$,updatePassword:L,resetPassword:U,logout:R,login:q,signUp:A,TwitterProvider:J,FacebookProvider:M,GoogleProvider:V,nombre:v,setNombre:g,apellido:w,setApellido:N,direccion:z,setDireccion:D,telefono:P,setTelefono:T};return Object(r.jsx)(m.Provider,{value:G,children:!u&&t})},v=(c(46),c(32)),g=Object(a.createContext)(),C=function(){return Object(a.useContext)(g)},y=function(e){var t=e.children,c=Object(a.useState)([]),n=Object(b.a)(c,2),s=n[0],i=n[1],o=Object(a.useState)(0),l=Object(b.a)(o,2),u=l[0],j=l[1],d=Object(a.useState)(0),p=Object(b.a)(d,2),O=p[0],h=p[1],m=Object(a.useState)(0),x=Object(b.a)(m,2),f=x[0],C=x[1],y=Object(a.useState)(0),w=Object(b.a)(y,2),N=w[0],S=w[1];Object(a.useEffect)((function(){null!==localStorage.getItem("Cart")&&i(JSON.parse(localStorage.getItem("Cart"))),null!==localStorage.getItem("PrecioTotal")&&h(JSON.parse(localStorage.getItem("PrecioTotal"))),null!==localStorage.getItem("CantidadTotal")&&j(JSON.parse(localStorage.getItem("CantidadTotal")))}),[]),Object(a.useEffect)((function(){localStorage.setItem("Cart",JSON.stringify(s)),localStorage.setItem("PrecioTotal",JSON.stringify(O)),localStorage.setItem("CantidadTotal",JSON.stringify(u))}),[s,O,u]);return Object(r.jsx)(g.Provider,{value:{cart:s,totalCant:u,precioTotal:O,addToCart:function(e,t){var c=s.findIndex((function(t){return t.product.id===e.product.id}));if(j(u+t),-1!==c){var r=Array.from(s);s[c].cantidad+=e.cantidad,i(r),h(O+e.product.price*e.cantidad)}else i([].concat(Object(v.a)(s),[e])),h(O+e.product.price*e.cantidad)},removeItem:function(e,t,c){i(s.filter((function(t){return t.product.id!==e}))),h(O-t),j(u-c)},clearCart:function(e){i([]),j(0),h(O-e)},cantidadSeleccionadaPorUsuario:f,setCantidadSeleccionadaPorUsuario:C,stockFirebase:N,setStockFirebase:S},children:t})},w=function(){var e=C(),t=e.cart,c=e.totalCant,s=e.removeItem,i=e.precioTotal,l=Object(a.useState)(!1),u=Object(b.a)(l,2),j=u[0],d=u[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"productCarrito",onClick:function(){return d(!0)},children:Object(r.jsxs)("li",{className:"a",children:[Object(r.jsx)("img",{className:"img-carrito",src:"images/carrito-de-compras.svg",alt:""})," Carrito ",Object(r.jsx)("span",{className:"num",children:c})]})}),j&&Object(r.jsxs)("div",{className:"carritoOpen",children:[n.a.Children.toArray(t.map((function(e){return Object(r.jsxs)("div",{className:"prodWidget",children:[Object(r.jsx)("img",{src:e.product.image,alt:e.product.description}),Object(r.jsx)("h3",{children:e.product.name}),Object(r.jsxs)("p",{children:["Cantidad: ",e.cantidad]}),Object(r.jsxs)("p",{children:["Precio por unidad: $",e.product.price]}),Object(r.jsxs)("p",{children:["Precio total: $",e.product.price*e.cantidad]}),Object(r.jsx)("button",{onClick:function(){return s(e.product.id,e.product.price*e.cantidad,e.cantidad)},children:"Eliminar item"}),Object(r.jsx)("hr",{})]})}))),Object(r.jsxs)("p",{children:["Precio total de tu compra: $",i]}),t.length>0&&Object(r.jsx)(o.c,{className:"a",to:"/cart",onClick:function(){return d(!1)},children:"Terminar Compra"}),Object(r.jsx)("button",{className:"button",onClick:function(){return d(!1)},children:"Cerrar"})]})]})},N=(c(51),function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),i=Object(b.a)(s,2),u=i[0],p=i[1],O=Object(a.useState)(""),m=Object(b.a)(O,2),f=m[0],v=m[1],g=x(),C=g.currentUser,y=g.logout,N=Object(l.g)(),S=h();return Object(a.useEffect)((function(){C&&(v(C.uid),S.collection("Admin").get().then(function(){var e=Object(d.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.docs.map(function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{uid:t.data().uid});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:c=e.sent,p(c[0].uid);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[S,f,C]),Object(r.jsxs)("nav",{className:"navbar",children:[c&&alert(c),Object(r.jsxs)("ul",{className:"ul",children:[Object(r.jsx)("li",{children:Object(r.jsx)(o.c,{activeClassName:"activehome",className:"a",to:"/",children:"Tienda App"})}),Object(r.jsx)("li",{children:Object(r.jsx)(o.c,{activeClassName:"active",className:"a",to:"/category",children:"Productos"})}),Object(r.jsx)(w,{}),Object(r.jsxs)("div",{className:"users",children:[C?null:Object(r.jsx)("li",{children:Object(r.jsx)(o.c,{activeClassName:"active",className:"a",to:"/ingresar",children:"Ingresar"})}),C?null:Object(r.jsx)("li",{children:Object(r.jsx)(o.c,{activeClassName:"active",className:"a",to:"/registrarse",children:"Registrarse"})})]}),C&&f===u?Object(r.jsx)("div",{children:Object(r.jsx)(o.c,{activeClassName:"active",className:"a",to:"administrador",children:"Administrador"})}):null,C?Object(r.jsx)("div",{className:"perfil",children:Object(r.jsxs)("li",{title:"ir a tu perfil",children:[Object(r.jsx)(o.c,{activeClassName:"active",className:"a",to:"PerfilUsuario",children:Object(r.jsxs)("p",{className:"a",children:["Usuario: ",null!==C.displayName?C.displayName:C.email]})}),null!==C.photoURL&&Object(r.jsx)("img",{src:C.photoURL,alt:"",className:"fotourl"})]})}):null,C?Object(r.jsx)("li",{children:Object(r.jsx)("button",{className:"a",onClick:function(){n("");try{y(),N.push("/ingresar")}catch(e){n("error al salir")}},children:"Salir"})}):null]})]})});c(52);var S=function(){return Object(r.jsx)("div",{className:"productnav",children:Object(r.jsxs)("ul",{className:"ulp",children:[Object(r.jsx)("li",{children:Object(r.jsx)(o.c,{activeClassName:"activehomep",className:"a",to:"/category",children:"Todos los productos"})}),Object(r.jsx)("li",{children:Object(r.jsx)(o.c,{activeClassName:"active",className:"a",to:"/category/remeras",children:"Remeras"})}),Object(r.jsx)("li",{children:Object(r.jsx)(o.c,{activeClassName:"active",className:"a",to:"/category/pantalones",children:"Pantalones"})}),Object(r.jsx)("li",{children:Object(r.jsx)(o.c,{activeClassName:"active",className:"a",to:"/category/zapatillas",children:"Zapatillas"})}),Object(r.jsx)("li",{children:Object(r.jsx)(o.c,{activeClassName:"active",className:"a",to:"/category/gorras",children:"Gorras"})}),Object(r.jsx)("li",{children:Object(r.jsx)(o.c,{activeClassName:"active",className:"a",to:"/category/medias",children:"Medias"})})]})})},k=c(10),P=(c(53),function(){var e=C(),t=e.precioTotal,c=e.cart,s=e.clearCart,i=e.totalCant,l=e.cantidadSeleccionadaPorUsuario,u=e.stockFirebase,O=x().currentUser,m=Object(a.useState)(""),f=Object(b.a)(m,2),v=f[0],g=f[1],y=Object(a.useState)(""),w=Object(b.a)(y,2),N=w[0],S=w[1],P=Object(a.useState)(""),T=Object(b.a)(P,2),I=T[0],E=T[1],z=Object(a.useState)(""),D=Object(b.a)(z,2),F=D[0],A=D[1],q=Object(a.useState)(""),R=Object(b.a)(q,2),U=R[0],$=R[1],L=Object(a.useState)(""),J=Object(b.a)(L,2),M=J[0],V=J[1],G=Object(a.useState)(),_=Object(b.a)(G,2),W=_[0],Z=_[1],B=Object(a.useState)(""),K=Object(b.a)(B,2),Y=K[0],H=K[1],Q=Object(a.useState)(0),X=Object(b.a)(Q,2),ee=X[0],te=X[1],ce=Object(a.useState)(0),re=Object(b.a)(ce,2),ae=re[0],ne=re[1],se=Object(a.useState)([]),ie=Object(b.a)(se,2),oe=ie[0],le=ie[1];return Object(a.useEffect)((function(){if(O){var e=h().collection("Users");e.get().then(function(){var t=Object(d.a)(j.a.mark((function t(c){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(c.docs.map(Object(d.a)(j.a.mark((function t(){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.doc(O.uid).get();case 2:return c=t.sent,t.abrupt("return",Object(k.a)({},c.data()));case 4:case"end":return t.stop()}}),t)})))));case 2:t.sent.map((function(e){return g(e.name),S(e.surname),A(e.address),E(e.phone),$(e.email),e}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}),[O]),Object(r.jsx)(r.Fragment,{children:l>u?Object(r.jsxs)("div",{className:"compraRealizada",children:[Object(r.jsx)("p",{children:"Error, no se puede comprar esta cantidad de productos"}),Object(r.jsx)(o.b,{className:"a",to:"/",children:"Volver al Inicio"})]}):W?Object(r.jsxs)("section",{className:"compraRealizada",children:[Object(r.jsxs)("h2",{children:[v," felicidades, tu compra fu\xe9 realizada con exito!"]}),Object(r.jsxs)("p",{children:["el total de tu compra es: $",ee]}),Object(r.jsxs)("p",{children:["Tu numero de orden es: ",Object(r.jsx)("strong",{children:W})]}),Object(r.jsxs)("p",{children:["fecha de compra: ",Y]}),Object(r.jsxs)("p",{children:["cantidad de productos comprados: ",ae]}),Object(r.jsx)("p",{children:"Tus productos comprados:"}),n.a.Children.toArray(oe.map((function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{src:e.product.image,alt:e.product.description}),Object(r.jsx)("h2",{children:e.product.name}),Object(r.jsx)("p",{children:e.product.description}),Object(r.jsxs)("p",{children:["Cantidad: ",e.cantidad]}),Object(r.jsx)("hr",{})]})})))]}):Object(r.jsxs)("section",{children:[Object(r.jsxs)("div",{className:"compraRealizada",children:[Object(r.jsx)("h1",{children:"Checkout"}),Object(r.jsxs)("form",{onSubmit:function(e){!function(e){e.preventDefault();var r=new Date;H(r.toLocaleString());var a={buyer:{name:v,surname:N,phone:I,email:U,address:F},items:c,fecha_de_compra:p.a.firestore.Timestamp.fromDate(r),total:t},n=h(),s=n.collection("Orders");s.get().then(function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.docs.map(function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.doc(t.id).update({idOrder:t.id});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s.add(a).then((function(e){var t=e.id;Z(t);var r=n.collection("Items").where(p.a.firestore.FieldPath.documentId(),"in",c.map((function(e){return e.product.id})));!function(){var e=Object(d.a)(j.a.mark((function e(){var t,a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get();case 2:t=e.sent,a=n.batch(),s=[],t.docs.forEach((function(e,t){e.data().stock>=c[t].cantidad?a.update(e.ref,{stock:e.data().stock-c[t].cantidad}):s.push(Object(k.a)(Object(k.a)({},e.data()),{},{id:e.id}))})),0===s.length&&a.commit();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()})).catch((function(e){console.log(e)}))}(e),s(t),te(t),le(c),ne(i)},children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"nombre",children:"Nombre:"}),Object(r.jsx)("input",{value:v,name:"nombre",onChange:function(e){g(e.target.value)},type:"text",pattern:"[a-zA-Z ]{2,254}",required:!0})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"apellido",children:"Apellido:"}),Object(r.jsx)("input",{value:N,name:"apellido",onChange:function(e){S(e.target.value)},type:"text",pattern:"[a-zA-Z ]{2,254}",required:!0})]}),Object(r.jsx)("div",{children:Object(r.jsxs)("abbr",{title:"T\xe9lefonos validos de Argentina",children:[Object(r.jsx)("label",{htmlFor:"telefono",children:"Tel\xe9fono:"}),Object(r.jsx)("input",{value:I,name:"telefono",onChange:function(e){E(e.target.value)},type:"tel",pattern:"^(?:(?:00)?549?)?0?(?:11|[2368]\\d)(?:(?=\\d{0,2}15)\\d{2})??\\d{8}",required:!0})]})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"direccion",children:"Direcci\xf3n:"}),Object(r.jsx)("input",{value:F,name:"direccion",onChange:function(e){A(e.target.value)},type:"text",required:!0})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"email",children:"Correo Electr\xf3nico:"}),Object(r.jsx)("input",{value:U,name:"email",onChange:function(e){$(e.target.value)},type:"email",pattern:"^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$",required:!0})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"confirmEmail",children:"Confirmar Correo Electr\xf3nico:"}),Object(r.jsx)("input",{value:M,name:"confirmEmail",onChange:function(e){V(e.target.value)},type:"email",pattern:"^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$",required:!0})]}),U===M&&F&&I&&N&&v?Object(r.jsx)("button",{type:"submit",children:"Comprar"}):Object(r.jsx)("button",{type:"submit",disabled:!0,children:"Comprar"})]})]}),Object(r.jsxs)("p",{children:["el total de tu compra es: $",t]})]})})}),T=(c(26),function(){var e=C(),t=e.cart,c=e.precioTotal,s=e.removeItem,i=e.clearCart,l=e.setCantidadSeleccionadaPorUsuario;return Object(a.useEffect)((function(){t.map((function(e){return l(e.cantidad)}))}),[t,l]),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"cart",children:[Object(r.jsx)("h1",{children:"Carrito"}),t.length>0?Object(r.jsxs)("div",{children:[n.a.Children.toArray(t.map((function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{src:e.product.image,width:"200",height:"200",alt:e.product.description}),Object(r.jsx)("h2",{children:e.product.name}),Object(r.jsxs)("p",{children:["Cantidad: ",e.cantidad]}),Object(r.jsxs)("p",{children:["Precio por unidad: $",e.product.price]}),Object(r.jsxs)("p",{children:["Precio total: $",e.product.price*e.cantidad]}),Object(r.jsx)("button",{onClick:function(){return s(e.product.id,e.product.price*e.cantidad,e.cantidad)},children:"Eliminar item"}),Object(r.jsx)("hr",{})]})}))),Object(r.jsxs)("p",{children:["Precio total: ",Object(r.jsxs)("b",{children:["$",c]})]}),Object(r.jsx)("button",{onClick:function(){i(c)},children:"Eliminar Todo"})]}):Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:"El carrito est\xe1 vac\xedo"}),Object(r.jsx)(o.b,{className:"a",to:"/",children:"Volver al inicio"})]}),t.length>0&&Object(r.jsx)("button",{children:Object(r.jsx)(o.b,{className:"a",to:"/checkout",children:"Finalizar Compra"})}),Object(r.jsx)(o.b,{className:"a",to:"/category",children:"Seguir comprando"})]})})}),I=(c(54),function(e){var t=e.product,c=e.id;return Object(r.jsxs)("div",{className:"card",children:[Object(r.jsx)("img",{src:t.image,alt:t.description}),Object(r.jsx)("h3",{children:t.name}),Object(r.jsx)("p",{children:t.description}),Object(r.jsxs)("p",{children:["precio: $",t.price]}),Object(r.jsxs)("p",{children:["Stock disponible: ",Object(r.jsx)("b",{children:t.stock}),"u"]}),Object(r.jsx)(o.b,{to:"/item/".concat(c),className:"detalle",children:"Ver Detalle"})]})}),E=(c(55),function(e){var t=e.products;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{children:Object(r.jsx)("ul",{className:"itemList",children:n.a.Children.toArray(t.map((function(e){return Object(r.jsx)(I,{product:e,id:e.id})})))})})})}),z=function(){var e=Object(a.useState)(!0),t=Object(b.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)([]),i=Object(b.a)(s,2),o=i[0],u=i[1],p=Object(a.useState)([]),O=Object(b.a)(p,2),m=O[0],x=O[1],f=Object(a.useState)([]),v=Object(b.a)(f,2),g=v[0],C=v[1],y=Object(a.useState)([]),w=Object(b.a)(y,2),N=w[0],S=w[1],P=Object(a.useState)([]),T=Object(b.a)(P,2),I=T[0],z=T[1],D=Object(a.useState)([]),F=Object(b.a)(D,2),A=F[0],q=F[1],R=Object(a.useState)(!0),U=Object(b.a)(R,2),$=U[0],L=U[1],J=Object(l.h)().id;return Object(a.useEffect)((function(){n(!0);var e=h();e.collection("Items").get().then(function(){var t=Object(d.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(c.docs.map(function(){var t=Object(d.a)(j.a.mark((function t(c){var r,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.collection("Categorias"),t.next=3,r.doc(c.data().categoryID).get();case 3:return a=t.sent,t.abrupt("return",Object(k.a)(Object(k.a)({},c.data()),{},{categoria:a.data().nombre}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:r=t.sent,n(!1),J?(u(r.filter((function(e){return e.categoria===J}))),L(!0)):(L(!1),u(r),x(r.filter((function(e){return"remeras"===e.categoria}))),C(r.filter((function(e){return"pantalones"===e.categoria}))),S(r.filter((function(e){return"zapatillas"===e.categoria}))),z(r.filter((function(e){return"gorras"===e.categoria}))),q(r.filter((function(e){return"medias"===e.categoria}))));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[J]),c?Object(r.jsx)("h1",{className:"h1",children:"Cargando productos..."}):Object(r.jsx)(r.Fragment,{children:!0===$?Object(r.jsxs)("div",{className:"ItemListContainer",children:[Object(r.jsx)("h2",{children:"Productos"}),Object(r.jsx)(E,{products:o})]}):Object(r.jsxs)("div",{className:"ItemListContainer",children:[Object(r.jsx)("h2",{children:"Productos"}),Object(r.jsx)("h2",{children:"Remeras: "}),Object(r.jsx)(E,{products:m}),Object(r.jsx)("p",{children:"------------------------------"}),Object(r.jsx)("h2",{children:"Pantalones:"}),Object(r.jsx)(E,{products:g}),Object(r.jsx)("p",{children:"------------------------------"}),Object(r.jsx)("h2",{children:"Zapatillas:"}),Object(r.jsx)(E,{products:N}),Object(r.jsx)("p",{children:"------------------------------"}),Object(r.jsx)("h2",{children:"Gorras:"}),Object(r.jsx)(E,{products:I}),Object(r.jsx)("p",{children:"------------------------------"}),Object(r.jsx)("h2",{children:"Medias:"}),Object(r.jsx)(E,{products:A})]})})},D=(c(56),function(e){var t=e.stock,c=e.onAdd,n=Object(a.useState)(1),s=Object(b.a)(n,2),i=s[0],o=s[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{onClick:function(){i>1&&o(i-1)},children:"-"}),Object(r.jsx)("b",{children:i}),Object(r.jsx)("button",{onClick:function(){i<t&&o(i+1)},children:"+"}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{onClick:function(e){c(e,i)},children:"Agregar al carrito"})})]})}),F=(c(57),function(e){var t=e.product,c=C(),n=c.addToCart,s=c.setStockFirebase,i=Object(a.useState)(!0),l=Object(b.a)(i,2),u=l[0],j=l[1];return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{children:Object(r.jsx)("ul",{className:"itemList",children:Object(r.jsxs)("div",{className:"detail",children:[Object(r.jsx)("img",{src:t.image,alt:t.description}),Object(r.jsx)("h3",{children:t.name}),Object(r.jsxs)("p",{children:["Descripci\xf3n: ",t.description]}),Object(r.jsxs)("p",{children:["Precio: $",t.price]}),Object(r.jsxs)("p",{children:["Envios: ",t.envio]}),Object(r.jsxs)("p",{children:["Talle: ",t.talle]}),Object(r.jsxs)("p",{children:["Color: ",t.color]}),Object(r.jsxs)("p",{children:["Dise\xf1o de la tela: ",t.tela]}),Object(r.jsxs)("p",{children:["Marca: ",t.marca]}),Object(r.jsxs)("p",{children:["Modelo: ",t.modelo]}),t.stock>=1?Object(r.jsxs)("p",{children:["Stock disponible: ",Object(r.jsx)("b",{children:t.stock}),"u"]}):Object(r.jsx)("p",{children:"No hay stock"}),t.stock>=1?!0===u?Object(r.jsx)(D,{stock:t.stock,onAdd:function(e,c){e.stopPropagation(),n({cantidad:c,product:t},c),j(!1),s(t.stock)}}):Object(r.jsx)(o.b,{className:"a",to:"/cart",children:"Terminar compra"}):null,Object(r.jsx)(o.b,{className:"a",to:"/category",children:"Seguir comprando"})]})})})})}),A=(c(58),function(){return Object(r.jsxs)("div",{className:"notFound",children:[Object(r.jsx)("p",{children:"Producto no encontrado"}),Object(r.jsx)(o.b,{className:"a",to:"/",children:"Volver al inicio"})]})}),q=function(){var e=Object(a.useState)(!0),t=Object(b.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)([]),i=Object(b.a)(s,2),o=i[0],u=i[1],p=Object(l.h)().id;return Object(a.useEffect)((function(){var e=h();e.collection("Items").get().then(function(){var t=Object(d.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(c.docs.map(function(){var t=Object(d.a)(j.a.mark((function t(c){var r,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.collection("Categorias"),t.next=3,r.doc(c.data().categoryID).get();case 3:return a=t.sent,t.abrupt("return",Object(k.a)(Object(k.a)({},c.data()),{},{categoria:a.data().nombre}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:r=t.sent,u(r.filter((function(e){return e.id===p}))[0]),n(!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[p]),Object(r.jsx)(r.Fragment,{children:c?Object(r.jsx)("h1",{className:"h1",children:"Cargando producto..."}):c||void 0!==o?Object(r.jsx)("div",{children:Object(r.jsx)(F,{product:o})}):Object(r.jsx)(A,{})})},R=function(){return Object(r.jsx)("div",{children:"Tienda App"})},U=(c(59),function(){return Object(r.jsxs)("div",{className:"admin",children:[Object(r.jsx)(o.b,{className:"a",to:"/agregarProductoNuevo",children:"Agregar Producto Nuevo"}),Object(r.jsx)(o.b,{className:"a",to:"/ordenesDeCompras",children:"Ver \xf3rdenes de compras"})]})}),$=(c(60),function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),c=t[0],s=t[1],i=Object(a.useState)(0),l=Object(b.a)(i,2),u=l[0],O=l[1],m=Object(a.useState)(""),x=Object(b.a)(m,2),f=x[0],v=x[1],g=Object(a.useState)(""),C=Object(b.a)(g,2),y=C[0],w=C[1],N=Object(a.useState)(0),S=Object(b.a)(N,2),P=S[0],T=S[1],I=Object(a.useState)(""),E=Object(b.a)(I,2),z=E[0],D=E[1],F=Object(a.useState)(""),A=Object(b.a)(F,2),q=A[0],R=A[1],U=Object(a.useState)(""),$=Object(b.a)(U,2),L=$[0],J=$[1],M=Object(a.useState)(""),V=Object(b.a)(M,2),G=V[0],_=V[1],W=Object(a.useState)(""),Z=Object(b.a)(W,2),B=Z[0],K=Z[1],Y=Object(a.useState)(""),H=Object(b.a)(Y,2),Q=H[0],X=H[1],ee=Object(a.useState)(""),te=Object(b.a)(ee,2),ce=te[0],re=te[1],ae=Object(a.useState)(0),ne=Object(b.a)(ae,2),se=ne[0],ie=ne[1],oe=Object(a.useState)(""),le=Object(b.a)(oe,2),ue=le[0],je=le[1],de=Object(a.useState)([]),be=Object(b.a)(de,2),pe=be[0],Oe=be[1],he=Object(a.useState)(!1),me=Object(b.a)(he,2),xe=me[0],fe=me[1],ve=Object(a.useState)(""),ge=Object(b.a)(ve,2),Ce=ge[0],ye=ge[1],we=Object(a.useState)([]),Ne=Object(b.a)(we,2),Se=Ne[0],ke=Ne[1],Pe=h(),Te=Object(a.useCallback)(function(){var e=Object(d.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.collection("Items").doc(t).get();case 2:c=e.sent,ke(c.data());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[ke,Pe]);return Object(a.useEffect)((function(){Pe.collection("Items").get().then(function(){var e=Object(d.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.docs.map(function(){var e=Object(d.a)(j.a.mark((function e(t){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Pe.collection("Categorias"),e.next=3,c.doc(t.data().categoryID).get();case 3:return r=e.sent,e.abrupt("return",Object(k.a)(Object(k.a)({},t.data()),{},{categoria:r.data().nombre}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:c=e.sent,Oe(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),""!==Ce&&Te(Ce)}),[Pe,Ce,Te]),Object(r.jsxs)("div",{className:"adminItems",children:[Object(r.jsx)("h1",{children:"Agregar Producto Nuevo:"}),Object(r.jsxs)("form",{onSubmit:function(e){!function(e){e.preventDefault();var t={categoryID:ue,categoria:ce,color:L,description:y,envio:z,image:c,marca:G,modelo:B,name:f,price:P,stock:se,talle:q,tela:Q},r=Pe.collection("Items");""!==Ce?(r.get().then(function(){var e=Object(d.a)(j.a.mark((function e(c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(c.docs.map(Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.doc(Ce).update(t);case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ye("")):(r.get().then(function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.docs.map(function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.doc(t.id).update({id:t.id});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.add(t)),setTimeout((function(){alert("producto agregado con \xe9xito a la base de datos"),window.location.reload()}),2e3)}(e)},children:[Object(r.jsx)("img",{src:""!==Ce?Se.image:c,width:"90",height:"90",alt:""}),Object(r.jsx)("label",{htmlFor:"img",children:"Seleccionar Imagen:"}),Object(r.jsx)("input",{type:"file",name:"img",accept:".webp,.jpg",onChange:function(e){p.a.storage().ref("".concat(e.target.files[0].name)).put(e.target.files[0]).on("state_changed",(function(e){O(e.bytesTransferred/e.totalBytes*100)}),(function(e){console.log(e)}),(function(){O(100),p.a.storage().ref().child(e.target.files[0].name).getDownloadURL().then((function(e){console.log(e),s(e)}))}))},required:!0}),Object(r.jsx)("progress",{value:u,max:"100"}),Object(r.jsx)("input",{type:"text",onChange:function(e){v(e.target.value)},placeholder:"Nombre",required:!0}),Object(r.jsx)("input",{type:"text",onChange:function(e){w(e.target.value)},placeholder:"Descripci\xf3n",required:!0}),Object(r.jsx)("input",{type:"number",onChange:function(e){T(e.target.value)},placeholder:"Precio",required:!0}),Object(r.jsx)("input",{type:"text",onChange:function(e){D(e.target.value)},placeholder:"Env\xedo",required:!0}),Object(r.jsx)("input",{type:"text",onChange:function(e){R(e.target.value)},placeholder:"Talle",required:!0}),Object(r.jsx)("input",{type:"text",onChange:function(e){J(e.target.value)},placeholder:"Color",required:!0}),Object(r.jsx)("input",{type:"text",onChange:function(e){X(e.target.value)},placeholder:"Dise\xf1o",required:!0}),Object(r.jsx)("input",{type:"text",onChange:function(e){_(e.target.value)},placeholder:"Marca",required:!0}),Object(r.jsx)("input",{type:"text",onChange:function(e){K(e.target.value)},placeholder:"Modelo",required:!0}),Object(r.jsx)("input",{type:"number",onChange:function(e){ie(e.target.value)},placeholder:"Stock",required:!0}),Object(r.jsx)("label",{htmlFor:"categoria",children:"Categor\xeda:"}),Object(r.jsxs)("select",{name:"categoria",required:!0,onChange:function(e){"remeras"===e.target.value?(je("ONF94UzIWzxTKjJUqkK7"),re("remeras"),fe(!0)):"medias"===e.target.value?(je("abSKtCUDac3rBJqSjNrl"),re("medias"),fe(!0)):"gorras"===e.target.value?(je("k0PCbzVEeB2d1Ygd8Phd"),re("gorras"),fe(!0)):"pantalones"===e.target.value?(je("oIVUW2uEzEi3ITYzeJrF"),re("pantalones"),fe(!0)):"zapatillas"===e.target.value?(je("fR7DM0V5D5EweMqBdaXb"),re("zapatillas"),fe(!0)):fe(!1)},children:[Object(r.jsx)("option",{value:" ",defaultValue:!0,children:" "}),Object(r.jsx)("option",{value:"remeras",children:"Remeras"}),Object(r.jsx)("option",{value:"pantalones",children:"Pantalones"}),Object(r.jsx)("option",{value:"medias",children:"Medias"}),Object(r.jsx)("option",{value:"zapatillas",children:"Zapatillas"}),Object(r.jsx)("option",{value:"gorras",children:"Gorras"})]}),xe?Object(r.jsx)("button",{type:"submit",children:""===Ce?"Subir Producto":"Editar Producto"}):Object(r.jsx)("button",{type:"submit",disabled:!0,children:""===Ce?"Subir Producto":"Editar Producto"})]}),Object(r.jsx)("div",{}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Tus Productos"}),Object(r.jsx)("div",{className:"itemList",children:n.a.Children.toArray(pe.map((function(e){return Object(r.jsxs)("div",{className:"card admincard",children:[Object(r.jsx)("img",{src:e.image,alt:""}),Object(r.jsxs)("h3",{children:["Nombre: ",e.name]}),Object(r.jsxs)("p",{children:["Categoria: ",e.categoria]}),Object(r.jsxs)("p",{children:["Descripcion: ",e.description]}),Object(r.jsxs)("p",{children:["ID: ",e.id]}),Object(r.jsxs)("p",{children:["Color: ",e.color]}),Object(r.jsxs)("p",{children:["Envio: ",e.envio]}),Object(r.jsxs)("p",{children:["Marca: ",e.marca]}),Object(r.jsxs)("p",{children:["Modelo: ",e.modelo]}),Object(r.jsxs)("p",{children:["Precio: $",e.price]}),Object(r.jsxs)("p",{children:["Stock: ",e.stock]}),Object(r.jsxs)("p",{children:["Talle: ",e.talle]}),Object(r.jsxs)("p",{children:["Dise\xf1o: ",e.tela]}),Object(r.jsx)("i",{className:"edit",onClick:function(){ye(e.id),window.scrollTo(0,0)},children:"Editar"}),Object(r.jsx)("i",{className:"delete",onClick:function(){var t;t=e.id,window.confirm("estas seguro que quieres eliminar este producto?")&&(Pe.collection("Items").doc(t).delete(),setTimeout((function(){alert("producto eliminado con \xe9xito de la base de datos"),window.location.reload()}),2e3))},children:"Eliminar"})]})})))})]}),Object(r.jsx)("div",{className:"admin",children:Object(r.jsx)(o.b,{className:"a",to:"/administrador",children:"Volver"})})]})}),L=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),c=t[0],s=t[1],i=h();return Object(a.useEffect)((function(){i.collection("Orders").get().then(function(){var e=Object(d.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.docs.map(function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:c=e.sent,s(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[i]),Object(r.jsxs)("div",{className:"admin",children:[Object(r.jsx)("h1",{children:"Ordenes de Compra"}),n.a.Children.toArray(c.map((function(e){return Object(r.jsxs)("div",{children:[Object(r.jsxs)("h2",{children:["Orden de compra n\xb0: ",e.idOrder]}),Object(r.jsxs)("h5",{children:["Nombre y apellido: ",e.buyer.name," ",e.buyer.surname,"."]}),Object(r.jsxs)("p",{children:["Email: ",e.buyer.email]}),Object(r.jsxs)("p",{children:["Direcci\xf3n:",e.buyer.address]}),Object(r.jsxs)("p",{children:["Tel\xe9fono: ",e.buyer.phone]}),Object(r.jsxs)("p",{children:["total de la orden: $",e.total]}),Object(r.jsxs)("p",{children:["Fecha de compra: ",e.fecha_de_compra.toDate().toLocaleString()," "]}),Object(r.jsx)("div",{className:"itemList",children:n.a.Children.toArray(e.items.map((function(e){return Object(r.jsxs)("div",{className:"card",children:[Object(r.jsx)("img",{src:e.product.image,alt:""}),Object(r.jsxs)("p",{children:["Nombre: ",e.product.name]}),Object(r.jsxs)("p",{children:["Talle: ",e.product.talle]}),Object(r.jsxs)("p",{children:["Color: ",e.product.color]}),Object(r.jsxs)("p",{children:["Categoria: ",e.product.categoria]}),Object(r.jsxs)("p",{children:["ID del producto: ",e.product.id]}),Object(r.jsxs)("p",{children:["Cantidad de Productos comprados: ",e.cantidad]})]})})))}),!0===e.confirmed?Object(r.jsx)("i",{className:"confirmada",children:"Orden Confirmada"}):Object(r.jsx)("i",{className:"edit",onClick:function(e){!function(e){e.preventDefault();var t=i.collection("Orders");t.get().then(function(){var e=Object(d.a)(j.a.mark((function e(c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(c.docs.map(function(){var e=Object(d.a)(j.a.mark((function e(c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.doc(c.id).update({confirmed:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),setTimeout((function(){alert("orden confirmada \xe9xito"),window.location.reload()}),2e3)}(e)},children:"Confirmar Compra"}),Object(r.jsx)("i",{className:"delete",onClick:function(){var t;t=e.idOrder,window.confirm("estas seguro que quieres eliminar esta orden de compra")&&(i.collection("Orders").doc(t).delete(),setTimeout((function(){alert("Orden eliminada con \xe9xito de la base de datos"),window.location.reload()}),2e3))},children:"Eliminar Orden"}),Object(r.jsx)("hr",{})]})}))),Object(r.jsx)("div",{children:Object(r.jsx)(o.b,{className:"a",to:"/administrador",children:"Volver"})})]})},J=(c(61),function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),c=x(),n=c.login,s=c.FacebookProvider,i=c.TwitterProvider,u=c.GoogleProvider,O=Object(a.useState)(""),h=Object(b.a)(O,2),m=h[0],f=h[1],v=Object(a.useState)(!1),g=Object(b.a)(v,2),C=g[0],y=g[1],w=Object(l.g)(),N=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.auth().signInWithPopup(t).then((function(){y(!0),setTimeout((function(){w.push("/")}),2e3)})).catch((function(e){console.log(e.message)}));case 2:y(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"login-container",children:[Object(r.jsx)("h1",{children:"Ingresar"}),m&&alert(m),Object(r.jsxs)("form",{onSubmit:function(c){c.preventDefault();try{f(""),y(!0),n(e.current.value,t.current.value),alert("iniciaste sesi\xf3n"),w.push("/")}catch(r){f("Error al ingresar a tu cuenta")}y(!1)},className:"login",children:[Object(r.jsx)("input",{type:"email",ref:e,placeholder:"Email"}),Object(r.jsx)("input",{type:"password",ref:t,placeholder:"Contrase\xf1a"}),Object(r.jsx)("input",{disabled:C,type:"submit",value:"Iniciar sesi\xf3n"})]}),Object(r.jsx)("p",{children:"Iniciar sesi\xf3n con:"}),Object(r.jsx)("button",{onClick:function(){N(u)},children:"Google"}),Object(r.jsx)("button",{onClick:function(){N(s)},children:"Facebook"}),Object(r.jsx)("button",{onClick:function(){N(i)},children:"Twitter"}),Object(r.jsx)("div",{children:Object(r.jsxs)("p",{children:["Necesitas una cuenta? ",Object(r.jsx)(o.b,{className:"a",to:"/registrarse",children:"Registrarse"})]})}),Object(r.jsx)("div",{children:Object(r.jsxs)("p",{children:["Olvidaste tu contrase\xf1a? ",Object(r.jsx)(o.b,{className:"a",to:"/ReestablecerContrase\xf1a",children:"Reestablecer contrase\xf1a"})]})})]})}),M=(c(62),function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),c=Object(a.useRef)(),n=x(),s=n.signUp,i=n.FacebookProvider,u=n.TwitterProvider,O=n.GoogleProvider,h=Object(a.useState)(""),m=Object(b.a)(h,2),f=m[0],v=m[1],g=Object(a.useState)(!1),C=Object(b.a)(g,2),y=C[0],w=C[1],N=Object(l.g)(),S=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.auth().signInWithPopup(t).then((function(){w(!0),setTimeout((function(){N.push("/")}),2e3)})).catch((function(e){console.log(e.message)}));case 2:w(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"login-container",children:[Object(r.jsx)("h1",{children:"Registrate"}),f&&alert(f),Object(r.jsxs)("form",{onSubmit:function(r){if(r.preventDefault(),t.current.value!==c.current.value)return v("Las contrase\xf1as no coinciden");try{v(""),w(!0),s(e.current.value,t.current.value),alert("Cuenta creada correctamente"),N.push("/")}catch(a){v("Error al crear tu cuenta")}w(!1)},className:"login",children:[Object(r.jsx)("input",{type:"email",ref:e,placeholder:"Email",required:!0}),Object(r.jsx)("input",{type:"password",ref:t,placeholder:"Contrase\xf1a",pattern:"^(?=\\w*\\d)(?=\\w*[A-Z])(?=\\w*[a-z])\\S{8,16}$",title:"La contrase\xf1a debe tener al entre 8 y 16 caracteres, al menos un d\xedgito, al menos una min\xfascula y al menos una may\xfascula.\r NO puede tener otros s\xedmbolos.",required:!0}),Object(r.jsx)("input",{type:"password",ref:c,placeholder:"Confirmar contrase\xf1a",required:!0}),Object(r.jsx)("input",{disabled:y,type:"submit",value:"Registrarse"})]}),Object(r.jsx)("p",{children:"Registrarse con:"}),Object(r.jsx)("button",{onClick:function(){S(O)},children:"Google"}),Object(r.jsx)("button",{onClick:function(){S(i)},children:"Facebook"}),Object(r.jsx)("button",{onClick:function(){S(u)},children:"Twitter"}),Object(r.jsx)("div",{children:Object(r.jsxs)("p",{children:["Ya tienes una cuenta? ",Object(r.jsx)(o.b,{className:"a",to:"/ingresar",children:"Ingresar"})]})})]})}),V=(c(63),function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),c=Object(a.useRef)(),n=x(),s=n.currentUser,i=n.updateEmail,l=n.updatePassword,u=n.nombre,p=n.setNombre,O=n.apellido,m=n.setApellido,f=n.direccion,v=n.setDireccion,g=n.telefono,C=n.setTelefono,y=Object(a.useState)(""),w=Object(b.a)(y,2),N=w[0],S=w[1],P=Object(a.useState)(!1),T=Object(b.a)(P,2),I=T[0],E=T[1];return Object(a.useEffect)((function(){var e=h().collection("Users");e.get().then(function(){var t=Object(d.a)(j.a.mark((function t(c){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(c.docs.map(Object(d.a)(j.a.mark((function t(){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.doc(s.uid).get();case 2:return c=t.sent,t.abrupt("return",Object(k.a)({},c.data()));case 4:case"end":return t.stop()}}),t)})))));case 2:t.sent.map((function(e){return p(e.name),m(e.surname),v(e.address),C(e.phone),e}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[s,p,m,v,C]),Object(r.jsxs)("div",{className:"PerfilUsuario",children:[Object(r.jsxs)("h1",{children:["Bienvenido ",s.email]}),Object(r.jsx)("h4",{children:"Actualizar Perfil"}),N&&alert(N),Object(r.jsxs)("form",{onSubmit:function(r){if(r.preventDefault(),t.current.value!==c.current.value)return S("las contrase\xf1as no coinciden");var a=[];E(!0),S(""),e.current.value!==s.email&&a.push(i(e.current.value)),t.current.value&&a.push(l(t.current.value)),Promise.all(a).then((function(){setTimeout((function(){alert("perfil actualizado correctamente"),window.location.reload()}),2e3)})).catch((function(){S("Fallo alactualizar tu Perfil")})).finally((function(){E(!1)}))},className:"login",children:[Object(r.jsx)("input",{type:"email",ref:e,placeholder:"Email",defaultValue:s.email,required:!0}),Object(r.jsx)("input",{type:"password",ref:t,placeholder:"Contrase\xf1a",pattern:"^(?=\\w*\\d)(?=\\w*[A-Z])(?=\\w*[a-z])\\S{8,16}$",title:"La contrase\xf1a debe tener al entre 8 y 16 caracteres, al menos un d\xedgito, al menos una min\xfascula y al menos una may\xfascula.\r NO puede tener otros s\xedmbolos."}),Object(r.jsx)("input",{type:"password",ref:c,placeholder:"Confirmar contrase\xf1a"}),Object(r.jsx)("input",{disabled:I,type:"submit",value:"Actualizar Perfil"})]}),Object(r.jsx)("h3",{children:"Datos personales"}),Object(r.jsxs)("form",{onSubmit:function(t){!function(t){t.preventDefault();var c={name:u,surname:O,phone:g,email:e.current.value,address:f},r=h().collection("Users");r.get().then(function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.docs.map(Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.doc(s.uid).set(Object(k.a)({},c),{merge:!0});case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),setTimeout((function(){alert("datos guardados correctamente"),window.location.reload()}),2e3)}(t)},children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"nombre",children:"Nombre:"}),Object(r.jsx)("input",{value:u,name:"nombre",onChange:function(e){p(e.target.value)},type:"text",pattern:"[a-zA-Z ]{2,254}",required:!0})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"apellido",children:"Apellido:"}),Object(r.jsx)("input",{value:O,name:"apellido",onChange:function(e){m(e.target.value)},type:"text",pattern:"[a-zA-Z ]{2,254}",required:!0})]}),Object(r.jsx)("div",{children:Object(r.jsxs)("abbr",{title:"T\xe9lefonos validos de Argentina",children:[Object(r.jsx)("label",{htmlFor:"telefono",children:"Tel\xe9fono:"}),Object(r.jsx)("input",{value:g,name:"telefono",onChange:function(e){C(e.target.value)},type:"tel",pattern:"^(?:(?:00)?549?)?0?(?:11|[2368]\\d)(?:(?=\\d{0,2}15)\\d{2})??\\d{8}",required:!0})]})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"direccion",children:"Direcci\xf3n:"}),Object(r.jsx)("input",{value:f,name:"direccion",onChange:function(e){v(e.target.value)},type:"text",required:!0})]}),f&&g&&O&&u?Object(r.jsx)("button",{type:"submit",children:"Guardar Datos"}):Object(r.jsx)("button",{type:"submit",disabled:!0,children:"Guardar Datos"})]}),Object(r.jsx)("div",{children:Object(r.jsx)(o.b,{className:"a",to:"/",children:"Cancelar"})})]})}),G=c(33),_=function(e){var t=e.component,c=Object(G.a)(e,["component"]),a=x().currentUser;return Object(r.jsx)(l.b,Object(k.a)(Object(k.a)({},c),{},{render:function(e){return a?Object(r.jsx)(t,Object(k.a)({},e)):Object(r.jsx)(l.a,{to:"/ingresar"})}}))},W=(c(64),function(){var e=Object(a.useRef)(),t=x().resetPassword,c=Object(a.useState)(""),n=Object(b.a)(c,2),s=n[0],i=n[1],l=Object(a.useState)(""),u=Object(b.a)(l,2),j=u[0],d=u[1],p=Object(a.useState)(!1),O=Object(b.a)(p,2),h=O[0],m=O[1];return Object(r.jsxs)("div",{className:"login-container",children:[Object(r.jsx)("h1",{children:"Reestablece tu contrase\xf1a"}),s&&alert(s),j&&alert(j),Object(r.jsxs)("form",{onSubmit:function(c){c.preventDefault();try{d(""),i(""),m(!0),t(e.current.value),d("Revisa tu correo el\xe9ctronico para cambiar la contrase\xf1a")}catch(r){i("Error al resetear tu contrase\xf1a")}m(!1)},className:"login",children:[Object(r.jsx)("input",{type:"email",ref:e,placeholder:"Email"}),Object(r.jsx)("input",{disabled:h,type:"submit",value:"Reestablecer"})]}),Object(r.jsx)("div",{children:Object(r.jsxs)("p",{children:["Ya tienes una cuenta? ",Object(r.jsx)(o.b,{className:"a",to:"/ingresar",children:"Ingresar"})]})}),Object(r.jsx)("div",{children:Object(r.jsxs)("p",{children:["Necesitas una cuenta? ",Object(r.jsx)(o.b,{className:"a",to:"/registrarse",children:"Registrarse"})]})})]})}),Z=function(){return Object(r.jsx)(f,{children:Object(r.jsx)(y,{children:Object(r.jsxs)(o.a,{children:[Object(r.jsx)("header",{children:Object(r.jsx)(N,{})}),Object(r.jsx)("main",{children:Object(r.jsx)("section",{children:Object(r.jsx)("article",{children:Object(r.jsxs)(l.d,{children:[Object(r.jsx)(l.b,{exact:!0,path:"/",children:Object(r.jsx)(z,{})}),Object(r.jsxs)(l.b,{exact:!0,path:"/category",children:[Object(r.jsx)(S,{}),Object(r.jsx)(z,{})]}),Object(r.jsxs)(l.b,{exact:!0,path:"/category/:id",children:[Object(r.jsx)(S,{}),Object(r.jsx)(z,{})]}),Object(r.jsx)(l.b,{exact:!0,path:"/item/:id",children:Object(r.jsx)(q,{})}),Object(r.jsx)(l.b,{exact:!0,path:"/cart",children:Object(r.jsx)(T,{})}),Object(r.jsx)(l.b,{exact:!0,path:"/checkout",children:Object(r.jsx)(P,{})}),Object(r.jsx)(_,{exact:!0,path:"/administrador",component:U}),Object(r.jsx)(l.b,{exact:!0,path:"/agregarProductoNuevo",children:Object(r.jsx)($,{})}),Object(r.jsx)(l.b,{exact:!0,path:"/ordenesDeCompras",children:Object(r.jsx)(L,{})}),Object(r.jsx)(l.b,{exact:!0,path:"/registrarse",children:Object(r.jsx)(M,{})}),Object(r.jsx)(l.b,{exact:!0,path:"/ingresar",children:Object(r.jsx)(J,{})}),Object(r.jsx)(_,{exact:!0,path:"/PerfilUsuario",component:V}),Object(r.jsx)(l.b,{exact:!0,path:"/ReestablecerContrase\xf1a",component:W}),Object(r.jsx)(l.b,{path:"*",children:Object(r.jsx)(A,{})})]})})})}),Object(r.jsx)("footer",{children:Object(r.jsx)(R,{})})]})})})},B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,66)).then((function(t){var c=t.getCLS,r=t.getFID,a=t.getFCP,n=t.getLCP,s=t.getTTFB;c(e),r(e),a(e),n(e),s(e)}))};i.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(Z,{})}),document.getElementById("root")),B()}},[[65,1,2]]]);
//# sourceMappingURL=main.41455d36.chunk.js.map